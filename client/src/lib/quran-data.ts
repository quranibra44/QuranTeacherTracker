// Simplified Quran Data for Mapping Pages to Surah and Juz
// Based on standard Madani 604-page Mushaf

export const getQuranContext = (page: number) => {
  if (page < 1 || page > 604) return null;
  
  const juz = Math.ceil((page - 1) / 20); // Rough approximation for Juz (usually 20 pages per Juz)
  const surah = getSurahByPage(page);

  return { juz, surah };
};

const surahStartPages: Record<number, string> = {
  1: "الفاتحة",
  2: "البقرة",
  50: "آل عمران",
  77: "النساء",
  106: "المائدة",
  128: "الأنعام",
  151: "الأعراف",
  177: "الأنفال",
  187: "التوبة",
  208: "يونس",
  221: "هود",
  235: "يوسف",
  249: "الرعد",
  255: "إبراهيم",
  262: "الحجر",
  267: "النحل",
  282: "الإسراء",
  293: "الكهف",
  305: "مريم",
  312: "طه",
  322: "الأنبياء",
  332: "الحج",
  342: "المؤمنون",
  350: "النور",
  359: "الفرقان",
  367: "الشعراء",
  377: "النمل",
  385: "القصص",
  396: "العنكبوت",
  404: "الروم",
  411: "لقمان",
  415: "السجدة",
  418: "الأحزاب",
  428: "سبأ",
  434: "فاطر",
  440: "يس",
  446: "الصافات",
  453: "ص",
  458: "الزمر",
  467: "غافر",
  477: "فصلت",
  483: "الشورى",
  489: "الزخرف",
  496: "الدخان",
  499: "الجاثية",
  502: "الأحقاف",
  507: "محمد",
  511: "الفتح",
  515: "الحجرات",
  518: "ق",
  520: "الذاريات",
  523: "الطور",
  526: "النجم",
  528: "القمر",
  531: "الرحمن",
  534: "الواقعة",
  537: "الحديد",
  542: "المجادلة",
  545: "الحشر",
  549: "الممتحنة",
  551: "الصف",
  553: "الجمعة",
  554: "المنافقون",
  556: "التغابن",
  558: "الطلاق",
  560: "التحريم",
  562: "الملك",
  564: "القلم",
  566: "الحاقة",
  568: "المعارج",
  570: "نوح",
  572: "الجن",
  574: "المزمل",
  575: "المدثر",
  577: "القيامة",
  578: "الإنسان",
  580: "المرسلات",
  582: "النبأ",
  583: "النازعات",
  585: "عبس",
  586: "التكوير",
  587: "الانفطار",
  587.5: "المطففين", 
  589: "الانشقاق",
  590: "البروج",
  591: "الطارق",
  591.5: "الأعلى",
  592: "الغاشية",
  593: "الفجر",
  594: "البلد",
  595: "الشمس",
  595.5: "الليل",
  596: "الضحى",
  596.5: "الشرح",
  597: "التين",
  597.5: "العلق",
  598: "القدر",
  598.5: "البينة",
  599: "الزلزلة",
  599.5: "العاديات",
  600: "القارعة",
  600.5: "التكاثر",
  601: "العصر",
  601.2: "الهمزة",
  601.5: "الفيل",
  602: "قريش",
  602.2: "الماعون",
  602.5: "الكوثر",
  603: "الكافرون",
  603.2: "النصر",
  603.5: "المسد",
  604: "الإخلاص",
  604.2: "الفلق",
  604.5: "الناس"
};

function getSurahByPage(page: number): string {
  let currentSurah = "الفاتحة";
  // Find the surah with the highest start page that is <= current page
  const pages = Object.keys(surahStartPages).map(Number).sort((a, b) => a - b);
  
  for (const p of pages) {
    if (p <= page) {
      currentSurah = surahStartPages[p];
    } else {
      break;
    }
  }
  return currentSurah;
}
